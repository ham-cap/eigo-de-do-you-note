<div class="flex justify-center">
  <h1 class="font-bold text-4xl">Cards#index</h1>
</div>
<nav class="w-3/5 my-4">
  <ul data-controller="card-filter" class="filters flex justify-start">
    <li class="a-filter is-selected" id="filter-all" data-card-filter-target="filterButton" data-action="click->card-filter#changeFilterDesign">
      <%= link_to '全て', cards_path, data: {turbo_frame: "cards"}, class: 'btn'%>
    </li>
    <li class="a-filter" id="filter-memorized" data-card-filter-target="filterButton" data-action="click->card-filter#changeFilterDesign">
      <%= link_to '覚えた', cards_path(target: 'memorized'), data: {turbo_frame: "cards"}, class: 'btn'%>
    </li>
    <li class="a-filter" id="filter-unmemorized" data-card-filter-target="filterButton" data-action="click->card-filter#changeFilterDesign">
      <%= link_to '覚えていない', cards_path(target: 'unmemorized'), data: {turbo_frame: "cards"}, class: 'btn'%>
    </li>
  </ul>
</nav>
<%= search_form_for(
    @search,
    html: {
      data: {
        turbo_frame: "cards",
        controller: "search",
        action: "input->search#submit"
      }
    }) do |f| %>
  <%= f.label :ja_phrase_or_en_phrase_cont, "カードを検索" %>
  <%= f.search_field :ja_phrase_or_en_phrase_cont %>
  <%= hidden_field_tag :target, @target %>
<% end %>
<%= link_to '新規作成', new_card_path, data: { turbo_frame: dom_id(Card.new) } %>
<div>
  <%= link_to '復習モードへ', review_cards_path, data: { turbo_prefetch: false } %>
</div>
<%= turbo_frame_tag Card.new %>
<%= turbo_frame_tag "cards" do%>
  <%= turbo_frame_tag "cards-page-#{@cards.current_page}" do %>
    <%= render partial: 'card', collection: @cards %>
    <%= turbo_frame_tag "cards-page-#{@cards.next_page}", loading: :lazy, src: path_to_next_page(@cards) %>
  <% end %>
<% end %>
